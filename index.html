<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Barbell Plate Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/framer-motion@10/dist/framer-motion.umd.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      html, body, #root { height: 100%; }
      body { margin: 0; background: #0b1220; }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // If opened directly as a file, Babel cannot fetch external JSX sources.
      // Show a friendly message instead of a blank screen.
      (function () {
        if (location.protocol === 'file:') {
          var root = document.getElementById('root');
          if (root) {
            root.innerHTML = '<div style="min-height:100vh;display:flex;align-items:center;justify-content:center;color:#e5e7eb;font-family:ui-sans-serif,system-ui,-apple-system;background:#0b1220;padding:24px;text-align:center">'+
              '<div style="max-width:680px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.04);border-radius:16px;padding:20px">'+
              '<h2 style="margin:0 0 8px 0;font-weight:700">Local server required</h2>'+
              '<p style="margin:0;line-height:1.6;color:#cbd5e1">This app uses Babel to compile external JSX files. Browsers block loading these files when opened via <code>file://</code>. Please run a local server and open <code>http://localhost:PORT/index.html</code> instead. For example:</p>'+
              '<pre style="text-align:left;margin-top:12px;background:rgba(0,0,0,0.3);padding:12px;border-radius:10px;overflow:auto">python3 -m http.server 5173\n# then visit http://localhost:5173</pre>'+
              '</div>'+
            '</div>';
          }
        }
      })();
    </script>

    <script type="text/babel" data-presets="env,react" src="src/utils.js"></script>
    <script type="text/babel" data-presets="env,react" src="src/useCanvasDraw.js"></script>
    <script type="text/babel" data-presets="env,react" src="src/Controls.jsx"></script>
    <script type="text/babel" data-presets="env,react" src="src/Visualization.jsx"></script>
    <script type="text/babel" data-presets="env,react" src="src/BarbellPlateCalculator.jsx"></script>
    <script type="text/babel" data-presets="env,react">
      if (location.protocol !== 'file:') {
        ReactDOM.createRoot(document.getElementById('root')).render(<BarbellPlateCalculator />);
      }
    </script>
  </body>
</html>
